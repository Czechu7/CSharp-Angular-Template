<p>admin-users-edit works!</p>
<p>Edycja u≈ºytkownika o ID: {{ userId }}</p>

<div class="card w-1/4 max-w-7xl mx-auto p-4">
  <h1 class="text-2xl mb-4">{{ 'ADMIN.PROFILE_EDIT.TITLE' | translate }}</h1>

  <form [formGroup]="adminProfileForm" (ngSubmit)="onSubmit()">
    <div class="mb-3 flex">
      <div class="flex">
        <app-input
          [formControl]="controls.firstName"
          formControlName="firstName"
          [placeholder]="'ADMIN.PROFILE_EDIT.FIRST_NAME' | translate"
          type="text"
          [errorMessage]="getErrorMessage(controls.firstName)"
          [invalid]="controls.firstName.invalid && controls.firstName.touched"
        />
      </div>
      <div class="ml-2">
        <app-button
          [icon]="editState.firstName ? 'pi pi-save' : 'pi pi-pencil'"
          [severity]="editState.firstName ? 'success' : 'secondary'"
          [label]="(editState.firstName ? 'UTILS.SAVE' : 'UTILS.EDIT') | translate"
          (click)="toggleEditField('firstName')"
          [disabled]="isLoading"
        />
      </div>
    </div>

    <div class="mb-3 flex">
      <div class="flex">
        <app-input
          [formControl]="controls.lastName"
          formControlName="lastName"
          [placeholder]="'ADMIN.PROFILE_EDIT.LAST_NAME' | translate"
          type="text"
          [errorMessage]="getErrorMessage(controls.lastName)"
          [invalid]="controls.lastName.invalid && controls.lastName.touched"
        />
      </div>
      <div class="ml-2">
        <app-button
          [icon]="editState.lastName ? 'pi pi-save' : 'pi pi-pencil'"
          [severity]="editState.lastName ? 'success' : 'secondary'"
          [label]="(editState.lastName ? 'UTILS.SAVE' : 'UTILS.EDIT') | translate"
          (click)="toggleEditField('lastName')"
          [disabled]="isLoading"
        />
      </div>
    </div>

    <div class="mb-3 flex">
      <div class="flex">
        <app-input
          [formControl]="controls.email"
          formControlName="email"
          [placeholder]="'ADMIN.PROFILE_EDIT.EMAIL' | translate"
          type="email"
          [errorMessage]="getErrorMessage(controls.email)"
          [invalid]="controls.email.invalid && controls.email.touched"
        />
      </div>
      <div class="ml-2">
        <app-button
          [icon]="editState.email ? 'pi pi-save' : 'pi pi-pencil'"
          [severity]="editState.email ? 'success' : 'secondary'"
          [label]="(editState.email ? 'UTILS.SAVE' : 'UTILS.EDIT') | translate"
          (click)="toggleEditField('email')"
          [disabled]="isLoading"
        />
      </div>
    </div>

    <div class="mb-3 flex">
      <div class="flex">
        <app-password-input
          [formControl]="controls.password"
          formControlName="password"
          [placeholder]="'ADMIN.PROFILE_EDIT.PASSWORD' | translate"
          [errorMessage]="getErrorMessage(controls.password)"
          [invalid]="controls.password.invalid && controls.password.touched"
        />
      </div>
      <div class="ml-2">
        <app-button
          [icon]="editState.password ? 'pi pi-save' : 'pi pi-pencil'"
          [severity]="editState.password ? 'success' : 'secondary'"
          [label]="'ADMIN.PROFILE_EDIT.RESET_PASSWORD' | translate"
          (click)="sendPasswordResetEmail()"
          [disabled]="isLoading"
        />
      </div>
    </div>

    <div class="mt-5 flex justify-start">
      <app-button
        type="button"
        [label]="'UTILS.SAVE' | translate"
        [icon]="'pi pi-arrow-left'"
        class="mr-2"
      />
    </div>
  </form>
</div>
